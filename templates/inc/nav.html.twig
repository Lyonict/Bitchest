<!-- Navbar pour écrans larges -->
<nav id="navbar-large" class="navbar navbar-expand-lg navbar-light">
  <div class="container">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="navbar-brand" href="/"><img src="{{asset('img/bitchest_logo.png')}}"></a>
      </li>
      <li class="nav-item">
        <a class="link" aria-current="page" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="link" href="{{asset('contact')}}">Contact</a>
      </li>
    </ul>

    <li class="nav-login">
      <div class="login-item">
        {% if app.user %}
            {# TODO : Create profile page and redirect the user to this page with this link #}
            <a href="{{asset('user')}}" class="btn btn-outline-light rounded-pill px-4">Profile</a>
        {% else %}
          <span>Log in</span>
          <a href="{{asset('login')}}"><button>Start Now</button></a>
        {% endif %}
      </div>
    </li>
  </div>
</nav>

<!-- Navbar pour téléphones -->
<nav id="navbar-mobile" class="navbar navbar-expand-lg navbar-light">
  <!-- Bouton de menu pour afficher la navbar mobile -->
  <li class="nav-item">
    <a class="navbar-brand" href="/"><img src="{{asset('img/bitchest_logo.png')}}"></a>
  </li>
  <button id="menu-button"><img src="{{asset('img/mobile-menu.png')}}"/></button>
  <div id="mobile-container" class="container">
    <li class="nav-login">
      <div class="login-item">
        {% if app.user %}
          {# TODO : Create profile page and redirect the user to this page with this link #}
          <a href="{{asset('user')}}" class="btn btn-outline-light rounded-pill px-4">Profile</a>
        {% else %}
          <a href="{{asset('login')}}"><button>Start Now</button></a>
        {% endif %}
      </div>
    </li>
    
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="link" aria-current="page" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="link" href="{{asset('contact')}}">Contact</a>
      </li>
    </ul>
  </div>
</nav>


<script>
  document.getElementById('menu-button').addEventListener('click', function() {
    var navbarMobile = document.getElementById('mobile-container');
    if (navbarMobile.classList.contains('show')) {
      navbarMobile.classList.remove('show');
    } else {
      navbarMobile.classList.add('show');
    }
  });



function adjustNavbar() {
    if (window.innerWidth <= 991) {
      document.getElementById('navbar-large').style.display = 'none';
      document.getElementById('navbar-mobile').style.display = 'block';
    } else {
      document.getElementById('navbar-large').style.display = 'block';
      document.getElementById('navbar-mobile').style.display = 'none';
    }
}

// Appeler la fonction au chargement de la page et à chaque redimensionnement de la fenêtre
window.addEventListener('load', adjustNavbar);
window.addEventListener('resize', adjustNavbar);

adjustNavbar();
document.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', function() {
      // Utiliser setTimeout pour donner le temps à la navigation de se produire
      setTimeout(adjustNavbar, 0);
    });
  });
</script>