{% extends 'base.html.twig' %}

{% block title %}Register
{% endblock %}

{% block content %}
  <div class="auth-form">
  	<h1>Register</h1>

    {% if app.user %}
      <div class="mb-3">
        <p>
          You are logged in as {{ app.user.userIdentifier }}
        </p>
        <a href="{{ path('app_logout') }}">Logout</a>
      </div>

    {% else %}

      {{ form_errors(registrationForm) }}

      {{ form_start(registrationForm) }}
        {{ form_row(registrationForm.email) }}
        {{ form_row(registrationForm.plainPassword, {
          label: 'Password'
        }) }}
        {{ form_row(registrationForm.confirmPassword) }}
        {{ form_row(registrationForm.agreeTerms) }}

        <button type="submit" class="btn">Register</button>
        <p>Already registered ?
          <a href="{{path('app_login')}}">Login</a>
        </p>
      {{ form_end(registrationForm) }}
    {% endif %}
  </div>
{% endblock %}
